<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no"
		/>
		<meta name="author" content="Bootstrap-ecommerce by Vosidiy" />

		<title>UI KIT - Marketplace and Ecommerce html template</title>

		<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico" />

		<!-- jQuery -->
		<script src="js/jquery-2.0.0.min.js" type="text/javascript"></script>

		<!-- Bootstrap4 files-->
		<script src="js/bootstrap.bundle.min.js" type="text/javascript"></script>
		<link href="css/bootstrap.css" rel="stylesheet" type="text/css" />

		<!-- Font awesome 5 -->
		<link
			href="fonts/fontawesome/css/fontawesome-all.min.css"
			type="text/css"
			rel="stylesheet"
		/>

		<!-- plugin: fancybox  -->
		<script
			src="plugins/fancybox/fancybox.min.js"
			type="text/javascript"
		></script>
		<link
			href="plugins/fancybox/fancybox.min.css"
			type="text/css"
			rel="stylesheet"
		/>

		<!-- plugin: owl carousel  -->
		<link
			href="plugins/owlcarousel/assets/owl.carousel.min.css"
			rel="stylesheet"
		/>
		<link
			href="plugins/owlcarousel/assets/owl.theme.default.css"
			rel="stylesheet"
		/>
		<script src="plugins/owlcarousel/owl.carousel.min.js"></script>

		<!-- custom style -->
		<link href="css/ui.css" rel="stylesheet" type="text/css" />
		<link
			href="css/responsive.css"
			rel="stylesheet"
			media="only screen and (max-width: 1200px)"
		/>

		<!-- custom javascript -->
		<script src="js/script.js" type="text/javascript"></script>
		<!--  axyos javascript -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>

		<script type="text/javascript">
			/// some script

			// jquery ready start
			$(document).ready(function() {
				// jQuery code
			});
			// jquery end
		</script>
	</head>

	<body>
		<div id="header">
			<header class="section-header">
				<nav
					class="navbar navbar-top navbar-expand-lg navbar-dark bg-secondary"
				>
					<div class="container">
						<button
							class="navbar-toggler"
							type="button"
							data-toggle="collapse"
							data-target="#navbarsExample07"
							aria-controls="navbarsExample07"
							aria-expanded="false"
							aria-label="Toggle navigation"
						>
							<span class="navbar-toggler-icon"></span>
						</button>

						<div class="collapse navbar-collapse" id="navbarsExample07">
							<ul class="navbar-nav mr-auto">
								<li>
									<a href="#" class="nav-link">
										<i class="fab fa-facebook"></i>
									</a>
								</li>
								<li>
									<a href="#" class="nav-link">
										<i class="fab fa-instagram"></i>
									</a>
								</li>
								<li>
									<a href="#" class="nav-link">
										<i class="fab fa-twitter"></i>
									</a>
								</li>
							</ul>
							<ul class="navbar-nav">
								<li class="nav-item">
									<a href="#" class="nav-link"> Delivery </a>
								</li>
								<li class="nav-item">
									<a href="#" class="nav-link"> Help </a>
								</li>
								<li class="nav-item dropdown">
									<a
										href="#"
										class="nav-link dropdown-toggle"
										data-toggle="dropdown"
									>
										USD
									</a>
									<ul class="dropdown-menu dropdown-menu-right">
										<li><a class="dropdown-item" href="#">EUR</a></li>
										<li><a class="dropdown-item" href="#">AED</a></li>
										<li><a class="dropdown-item" href="#">RUBL </a></li>
									</ul>
								</li>
								<li class="nav-item dropdown">
									<a
										href="#"
										class="nav-link dropdown-toggle"
										data-toggle="dropdown"
									>
										Language
									</a>
									<ul class="dropdown-menu dropdown-menu-right">
										<li><a class="dropdown-item" href="#">English</a></li>
										<li><a class="dropdown-item" href="#">Arabic</a></li>
										<li><a class="dropdown-item" href="#">Russian </a></li>
									</ul>
								</li>
							</ul>
							<!-- navbar-nav.// -->
						</div>
						<!-- collapse.// -->
					</div>
				</nav>

				<section class="header-main shadow-sm">
					<div class="container">
						<div class="row align-items-center">
							<div class="col-lg-3 col-sm-4">
								<div class="brand-wrap">
									<img class="logo" src="images/logo-dark.png" />
									<h2 class="logo-text" id="limpa-tela">LOGO</h2>
								</div>
								<!-- brand-wrap.// -->
							</div>
							<div class="col-lg-4 col-xl-5 col-sm-8" id="search">
								<form action="#" class="search-wrap">
									<div class="input-group w-100">
										<input
											type="text"
											class="form-control"
											style="width:55%;"
											placeholder="Search"
										/>
										<select class="custom-select" name="category_name">
											<option value="">All type</option>
											<option value="codex">Special</option>
											<option value="comments">Only best</option>
											<option value="content">Latest</option>
										</select>
										<div class="input-group-append">
											<button class="btn btn-primary" type="submit">
												<i class="fa fa-search"></i>
											</button>
										</div>
									</div>
								</form>
								<!-- search-wrap .end// -->
							</div>
							<!-- col.// -->
							<div class="col-lg-5 col-xl-4 col-sm-12">
								<div class="widgets-wrap float-right">
									<a href="#" class="widget-header mr-3" id="novo-produto">
										<div class="icontext">
											<div class="icon-wrap" id="categorias1"></div>
											<div class="text-wrap">
												<div>Novo Produto</div>
											</div>
										</div>
									</a>
									<!---->
									<a href="#" class="widget-header mr-3" id="produtos">
										<div class="icontext">
											<div class="icon-wrap" id="produtos1"></div>
											<div class="text-wrap">
												<div>Produtos</div>
											</div>
										</div>
									</a>
									<div class="widget-header dropdown">
										<a href="#" data-toggle="dropdown" data-offset="20,10">
											<div class="icontext">
												<div class="icon-wrap">
													<i class="icon-sm round border fa fa-user"></i>
												</div>
												<div class="text-wrap">
													<small id="small">Logar | Cadastrar</small>
													<div>My account <i class="fa fa-caret-down"></i></div>
												</div>
											</div>
										</a>
										<div class="dropdown-menu dropdown-menu-right" id="drop">
											<!--Inicio Login ------------------------------------------------------------------------------------------------------------------>
											<form class="px-4 py-3" id="form-login">
												<div class="form-group" id="div-login">
													<label id="label-login">Usuario:</label>
													<input
														type="text"
														class="form-control"
														placeholder=""
														id="login"
													/>
												</div>
												<div class="form-group" id="div-senha">
													<label id="label-senha">Senha</label>
													<input
														type="text"
														class="form-control"
														placeholder=""
														id="senha"
													/>
												</div>
												<button
													type="submit"
													class="btn btn-primary"
													id="logar"
												>
													Logar
												</button>
											</form>
											<!--FIM Login ------------------------------------------------------------------------------------------------------------------->
											<hr class="dropdown-divider" />
											<a class="dropdown-item" id="logout" href="#">Logout</a>
											<a class="dropdown-item" id="cadastro" href="#"
												>Cadastre-se</a
											>
										</div>
										<!--  dropdown-menu .// -->
									</div>
									<!-- widget-header .// -->
								</div>
								<!-- widgets-wrap.// -->
							</div>
							<!-- col.// -->
						</div>
						<!-- row.// -->
					</div>
					<!-- container.// -->
				</section>
				<!-- header-main .// -->
			</header>
			<!-- section-header.// -->
		</div>
		<!--------------FIM DIV HEADER---------------------------->

		<div id="resultado"></div>
		<nav aria-label="Page navigation example" id="paginacao"></nav>

		<script type="module">
			import { ProdutoServ } from "../service/produto_serv.js";

			// document.getElementById('logout').addEventListener('click', () => {
			//     localStorage.removeItem('token');
			//     localStorage.removeItem('user');
			//     window.location.assign('login try.html');   //direcionamento do link logout
			// })

			/*<--------------Inicio primeiro monta tela---------------------------->*/
			var data = {};

			document;
			// window.addEventListener("load", () => montaTela());

			const createTable = () => {
				let element = document.createElement("table");
				element.className = "table table-striped table-dark";
				element.id = "tabela";
				element.border = "1";
				element.appendChild(tableHead());

				return element;
			};

			const tableBody = () => {
				let tableBody = document.createElement("tbody");
			};

			const tableHead = () => {
				let thead1 = document.createElement("thead");
				thead1.className = "thead-dark";
				let tr1 = document.createElement("tr");
				let th1 = document.createElement("th");
				th1.scope = "col";
				th1.innerHTML = "ID Produto";
				let th2 = document.createElement("th");
				th2.scope = "col";
				th2.innerHTML = "ID Categoria";
				let th3 = document.createElement("th");
				th3.scope = "col";
				th3.innerHTML = "Produtos";
				let th4 = document.createElement("th");
				th4.scope = "col";
				th4.innerHTML = "Descrição";
				let th5 = document.createElement("th");
				th5.scope = "col";
				th5.innerHTML = "Valor";
				let th6 = document.createElement("th");
				th6.scope = "col";
				th6.innerHTML = "Atualizar";
				let th7 = document.createElement("th");
				th7.scope = "col";
				th7.innerHTML = "Deletar";
				tr1.appendChild(th1);
				tr1.appendChild(th2);
				tr1.appendChild(th3);
				tr1.appendChild(th4);
				tr1.appendChild(th5);
				tr1.appendChild(th6);
				tr1.appendChild(th7);
				thead1.appendChild(tr1);

				return thead1;
			};

			const createTr = () => {
				const tr = document.createElement("tr");
				return tr;
			};

			const createButtonUpdate = produto => {
				const element = document.createElement("button");
				element.id = `button-${produto.produtoId}`;
				element.className = "btn btn-light";
				element.innerHTML = "Produto";
				element.addEventListener("click", () => {
					recriateTable(); //recria tudo novamente, usando o cache
					changeButtonNome(produto.produtoId); //muda o botão
					changeToField(produto); //cria o campo de texto
				});

				return element;
			};

			const createButtonDescricao = produto => {
				const element = document.createElement("button");
				element.id = `button-${produto.produtoId}`;
				element.className = "btn btn-secondary";
				element.innerHTML = "Descrição";
				element.addEventListener("click", () => {
					recriateTable(); //recria tudo novamente, usando o cache
					changeButtonDescricao(produto.produtoId); //muda o botão
					changeToFieldDescrcao(produto); //cria o campo de texto
				});

				return element;
			};
			const createButtonValor = produto => {
				const element = document.createElement("button");
				element.id = `button-${produto.produtoId}`;
				element.className = "btn btn-dark";
				element.innerHTML = "Valor";
				element.addEventListener("click", () => {
					recriateTable(); //recria tudo novamente, usando o cache
					changeButtonValor(produto.produtoId); //muda o botão
					changeToFieldValor(produto); //cria o campo de texto
				});

				return element;
			};

			const createButtonDelete = produto => {
				const element = document.createElement("button");
				element.id = `button-${produto.produtoId}`;
				element.className = "btn btn-danger";
				element.innerHTML = "Deletar";
				element.addEventListener("click", () => {
					deletar(produto.produtoId);
					recriateTable(); //recria tudo novamente, usando o cache
				});

				return element;
			};

			const recriateTable = () => {
				let resultado = document.getElementById("resultado");
				resultado.innerHTML = ""; //limpa

				appendToDOM(data);
			};

			const formElement = () => {
				const element = document.createElement("form");
				element.action = "#";
				element.id = "formulario";
				element.addEventListener("submit", () => alert("enviou"));
				return element;
			};

			const changeToField = produto => {
				const element = document.getElementById(`id-${produto.produtoId}`);
				element.innerHTML = ""; //limpa o atual
				element.appendChild(textField(produto.nomeproduto)); //adiciona o novo
			};

			const changeToFieldDescrcao = produto => {
				const element = document.getElementById(
					`descricao-${produto.produtoId}`
				);
				element.innerHTML = ""; //limpa o atual
				element.appendChild(textField(produto.descricao)); //adiciona o novo
			};

			const changeToFieldValor = produto => {
				const element = document.getElementById(`valor-${produto.produtoId}`);
				element.innerHTML = ""; //limpa o atual
				element.appendChild(textField(produto.valor)); //adiciona o novo
			};

			const fieldValue = () => {
				return document.getElementById("nome").value;
			};

			const deletar = async id => {
				let produto = new ProdutoServ();
				let resultado = await produto.deletar(id);

				/* INICIO for dentro do cahe para atualizar deletando o ID do cache */
				for (let i = 0; i < data.length; i++) {
					if (data[i].produtoId === id) {
						data.splice(i, 1);
					}
				}
				/* FIM for dentro do cahe para atualizar deletando o ID do cache */

				recriateTable(); //recria com cache
			};

			const adicionaProduto = async () => {
				const campoCategoriaId = document.getElementById("id-categoria").value;
				const campoNomeproduto = document.getElementById("nome-produto").value;
				const campoDescricao = document.getElementById("descricao-produto")
					.value;
				const campoValor = document.getElementById("valor-produto").value;
				if (
					campoCategoriaId != "" &&
					campoNomeproduto != "" &&
					campoDescricao != "" &&
					campoValor != ""
				) {
					let objeto = {};
					objeto.categoriaId = campoCategoriaId;
					objeto.nomeproduto = campoNomeproduto;
					objeto.descricao = campoDescricao;
					objeto.valor = campoValor;

					let pd = new ProdutoServ();
					let resultado = await pd.adicionar(objeto);

					montaTela();
				} else {
					alert("Todos os campos devem ser preenchidos!!");
					montaTelaNovoProduto();
				}
			};

			const atualizaNome = async id => {
				const campoNome = document.getElementById("nome").value;
				console.log("campo nome aqui: " + campoNome + " || id: " + id);
				let objeto = {};
				objeto.nomeproduto = campoNome;
				objeto.produtoid = id;
				for (let i = 0; i < data.length; i++) {
					if (data[i].produtoId === id) {
						objeto.categoriaId = data[i].categoriaId;
						objeto.descricao = data[i].descricao;
						objeto.valor = data[i].valor;
					}
				}
				let produto = new ProdutoServ();
				let resultado = await produto.atualizar(objeto);

				/* itera dentro de data e quando encontra o id atualiza o data[i].nome para campoNome*/

				for (let i = 0; i < data.length; i++) {
					if (data[i].produtoId === id) {
						data[i].nomeproduto = campoNome;
					}
				}
				/* ************cahe atalizado pelo for **************************************************/

				recriateTable(); //recria com cache
			};

			const atualizaDescricao = async id => {
				const campoNome = document.getElementById("nome").value;
				console.log("campo nome aqui: " + campoNome + " || id: " + id);
				let objeto = {};
				objeto.descricao = campoNome;
				objeto.produtoid = id;
				for (let i = 0; i < data.length; i++) {
					if (data[i].produtoId === id) {
						objeto.categoriaId = data[i].categoriaId;
						objeto.nomeproduto = data[i].nomeproduto;
						objeto.valor = data[i].valor;
					}
				}
				let produto = new ProdutoServ();
				let resultado = await produto.atualizar(objeto);

				/* itera dentro de data e quando encontra o id atualiza o data[i].descricao para campoNome*/

				for (let i = 0; i < data.length; i++) {
					if (data[i].produtoId === id) {
						data[i].descricao = campoNome;
					}
				}
				/* ************cahe atalizado pelo for **************************************************/

				recriateTable(); //recria com cache
			};

			const atualizaValor = async id => {
				const campoNome = document.getElementById("nome").value;
				console.log("campo nome aqui: " + campoNome + " || id: " + id);
				let objeto = {};
				objeto.valor = campoNome;
				objeto.produtoid = id;
				for (let i = 0; i < data.length; i++) {
					if (data[i].produtoId === id) {
						objeto.categoriaId = data[i].categoriaId;
						objeto.descricao = data[i].descricao;
						objeto.nomeproduto = data[i].nomeproduto;
					}
				}

				let produto = new ProdutoServ();
				let resultado = await produto.atualizar(objeto);

				/* itera dentro de data e quando encontra o id atualiza o data[i].valor para campoNome*/

				for (let i = 0; i < data.length; i++) {
					if (data[i].produtoId === id) {
						data[i].valor = campoNome;
					}
				}
				/* ************cahe atalizado pelo for **************************************************/

				recriateTable(); //chama o cache e ele não esta atualizado
			};

			const changeButtonNome = id => {
				const td = document.getElementById(`btn-${id}`);
				td.innerHTML = ""; //limpa
				const element = document.createElement("button");
				element.id = `upbutton-${id}`;
				element.className = "btn btn-warning";
				element.innerHTML = "Confirmar";
				element.addEventListener("click", () => atualizaNome(id));
				td.appendChild(element);
			};
			const changeButtonDescricao = id => {
				const td = document.getElementById(`btn-${id}`);
				td.innerHTML = ""; //limpa
				const element = document.createElement("button");
				element.id = `upbutton-${id}`;
				element.className = "btn btn-warning";
				element.innerHTML = "Confirmar";
				element.addEventListener("click", () => atualizaDescricao(id));
				td.appendChild(element);
			};
			const changeButtonValor = id => {
				const td = document.getElementById(`btn-${id}`);
				td.innerHTML = ""; //limpa
				const element = document.createElement("button");
				element.id = `upbutton-${id}`;
				element.className = "btn btn-warning";
				element.innerHTML = "Confirmar";
				element.addEventListener("click", () => atualizaValor(id));
				td.appendChild(element);
			};

			const textField = content => {
				const element = document.createElement("input");
				element.id = "nome";
				element.value = content;
				return element;
			};

			const createTdTr = produto => {
				const tr = createTr();

				const td1 = document.createElement("td");
				td1.className = "classname";
				td1.innerHTML = `${produto.produtoId}`;

				const td2 = document.createElement("td");
				td2.className = "classname";
				td2.innerHTML = `${produto.categoriaId}`;

				const td3 = document.createElement("td");
				td3.id = `id-${produto.produtoId}`;
				td3.className = "classname";
				td3.innerHTML = `${produto.nomeproduto}`;

				const td4 = document.createElement("td");
				td4.id = `descricao-${produto.produtoId}`;
				td4.className = "classname";
				td4.innerHTML = `${produto.descricao}`;

				const td5 = document.createElement("td");
				td5.id = `valor-${produto.produtoId}`;
				td5.className = "classname";
				td5.innerHTML = `${produto.valor}`;

				const td6 = document.createElement("td");
				td6.id = `btn-${produto.produtoId}`;
				td6.className = "classname";
				td6.appendChild(createButtonUpdate(produto));
				td6.appendChild(createButtonDescricao(produto));
				td6.appendChild(createButtonValor(produto));

				const td8 = document.createElement("td");
				td8.id = `btn-${produto.produtoId}`;
				td8.className = "classname";
				td8.appendChild(createButtonDelete(produto));

				tr.appendChild(td1);
				tr.appendChild(td2);
				tr.appendChild(td3);
				tr.appendChild(td4);
				tr.appendChild(td5);
				tr.appendChild(td6);

				tr.appendChild(td8);

				return tr;
			};

			const appendToDOM = produtos => {
				document.getElementById("resultado").innerHTML = "";
				const resultado = document.getElementById("resultado");
				const table = createTable();

				produtos.map(produto => {
					table.appendChild(createTdTr(produto));
				});

				resultado.appendChild(table);
				//montaTelaPaginacao();
			};

			var montaTela = async () => {
				// let token = localStorage.getItem('token')
				// console.log(token)
				// if (token == null) {
				//     window.location.assign('login.html')
				// }

				try {
					let produto = new ProdutoServ();

					let resposta = await produto.takeProdutos();
					let output = resposta;

					console.log(
						"resposta.data.results || " +
							resposta.data.results +
							" || resposta.data.paginacao.totalOffPages || " +
							resposta.data.paginacao.totalOffPages
					);

					if (
						resposta.data.results != null &&
						resposta.data.results.length > 0
					) {
						output = "";
						data = resposta.data.results;

						appendToDOM(data);
						criaPaginacao(
							resposta.data.paginacao.totalOffPages,
							resposta.data.paginacao.previous,
							resposta.data.paginacao.next,
							resposta.data.paginacao.pagina
						);
					} else {
						document.getElementById("resultado").innerHTML = output;
					}
				} catch (error) {
					document.getElementById("resultado").innerHTML =
						"Erro na recuperação dos produtoss";
				}
			};

			document.getElementById("produtos").addEventListener("click", () => {
				montaTela();
			});
			/***********************************************  FIM montatela para produtos ***********************************************/

			/***********************************************  INICIO montatela para Novos produtos ***************************************************/

			const createTableNew = () => {
				let element = document.createElement("table");
				element.className = "table table-striped table-dark";
				element.id = "tabela";
				element.border = "1";
				element.appendChild(tableHeadNew());

				return element;
			};

			const tableBodyNew = () => {
				let tableBody = document.createElement("tbody");
			};

			const tableHeadNew = () => {
				let thead1 = document.createElement("thead");
				thead1.className = "thead-dark";
				let tr1 = document.createElement("tr");

				let th2 = document.createElement("th");
				th2.scope = "col";
				th2.innerHTML = "ID Categoria";
				let th3 = document.createElement("th");
				th3.scope = "col";
				th3.innerHTML = "Produto";
				let th4 = document.createElement("th");
				th4.scope = "col";
				th4.innerHTML = "Descrição";
				let th5 = document.createElement("th");
				th5.scope = "col";
				th5.innerHTML = "Valor";
				let th6 = document.createElement("th");
				th6.scope = "col";
				th6.innerHTML = "Atualizar";

				tr1.appendChild(th2);
				tr1.appendChild(th3);
				tr1.appendChild(th4);
				tr1.appendChild(th5);
				tr1.appendChild(th6);

				thead1.appendChild(tr1);

				return thead1;
			};

			const createButtonCadastro = () => {
				const element = document.createElement("button");
				element.id = "button-new";
				element.className = "btn btn-primary";
				element.innerHTML = "Adicionar";
				element.addEventListener("click", () => adicionaProduto());

				//   changeToField(produto); //cria o campo de texto

				return element;
			};

			const formElementNew = () => {
				const element = document.createElement("div");
				element.class = "alert alert-danger";
				element.id = "alerta";
				element.role = "alert";

				return element;
			};

			const fieldValueNew = () => {
				return document.getElementById("nome").value;
			};

			const createTrNew = () => {
				const tr = document.createElement("tr");
				return tr;
			};

			const input1 = document.createElement("input");
			input1.type = "number";
			input1.min = "1";
			input1.id = "id-categoria";
			input1.value = "";
			const input2 = document.createElement("input");
			input2.id = "nome-produto";
			input2.value = "";
			const input3 = document.createElement("input");
			input3.id = "descricao-produto";
			input3.value = "";
			const input4 = document.createElement("input");
			input4.type = "number";
			input4.min = "1";
			input4.id = "valor-produto";
			input4.value = "";

			const createTdTrNew = () => {
				const tr = createTrNew();

				const td1 = document.createElement("td");
				td1.className = "classname";
				td1.appendChild(input1);

				const td2 = document.createElement("td");
				td2.className = "classname";
				td2.appendChild(input2);

				const td3 = document.createElement("td");
				td3.className = "classname";
				td3.appendChild(input3);

				const td4 = document.createElement("td");
				td4.className = "classname";
				td4.appendChild(input4);

				const td_button = document.createElement("td");
				td_button.id = `btn-adicionar`;
				td_button.className = "classname";
				td_button.appendChild(createButtonCadastro());

				tr.appendChild(td1);
				tr.appendChild(td2);
				tr.appendChild(td3);
				tr.appendChild(td4);
				tr.appendChild(td_button);

				return tr;
			};

			const appendToDOMNew = () => {
				document.getElementById("resultado").innerHTML = "";
				const resultado = document.getElementById("resultado");
				const table = createTableNew();

				table.appendChild(createTdTrNew());

				resultado.appendChild(table);
			};
			const limpaTela = () => {
				document.getElementById("resultado").innerHTML = "";
			};

			document.getElementById("limpa-tela").addEventListener("click", () => {
				limpaTela();
			});

			var montaTelaNovoProduto = async () => {
				appendToDOMNew();
			};

			document.getElementById("novo-produto").addEventListener("click", () => {
				montaTelaNovoProduto();
			});
			/***********************************************  FIM montatela para Novos produtos ***************************************************/

			/*<--------------Inicio Monta Tela Paginação---------------------------->*/

			const criaPaginacao = async (pages, prev, next, pagina) => {
				document.getElementById("paginacao").innerHTML = "";
				const pagination = document.getElementById("paginacao");
				console.log("prev || " + prev);
				console.log("pagina || " + pagina);

				const untL = document.createElement("ul");
				untL.className = "pagination justify-content-center";

				const liPrev = document.createElement("li");
				liPrev.className = "page-item";
				const liPrevDis = document.createElement("li");
				liPrevDis.className = "page-item disabled";

				if (prev != null) {
					const aPrev = document.createElement("a");
					aPrev.className = "page-link";
					aPrev.href = "#";
					aPrev.id = `p${prev}`;
					aPrev.textContent = "Previous";
					aPrev.addEventListener("click", () => newPage(prev));
					liPrev.appendChild(aPrev);
					untL.appendChild(liPrev);
				} else {
					const aPrev = document.createElement("a");
					aPrev.className = "page-link";
					aPrev.href = "#";
					aPrev.textContent = "Previous";
					liPrevDis.appendChild(aPrev);
					untL.appendChild(liPrevDis);
				}

				for (let num = 1; num <= pages; num++) {
					const list = document.createElement("li");
					if (pagina == num) {
						list.className = "page-item disabled";
					} else {
						list.className = "page-item";
					}

					let a = document.createElement("a");
					a.className = "page-link";
					a.href = "#";
					a.textContent = num;
					a.id = `p${num}`;
					a.addEventListener("click", () => newPage(num));
					list.appendChild(a);
					untL.appendChild(list);
				}

				const liNext = document.createElement("li");
				liNext.className = "page-item";

				const liNextDis = document.createElement("li");
				liNextDis.className = "page-item disabled";

				if (next != null) {
					const aNext = document.createElement("a");
					aNext.className = "page-link";
					aNext.href = "#";
					aNext.id = `p${next}`;
					aNext.textContent = "Next";
					aNext.addEventListener("click", () => newPage(next));
					liNext.appendChild(aNext);
					untL.appendChild(liNext);
				} else {
					const aNext = document.createElement("a");
					aNext.className = "page-link";
					aNext.href = "#";
					aNext.textContent = "Next";
					liNextDis.appendChild(aNext);

					untL.appendChild(liNextDis);
				}

				pagination.appendChild(untL);
			};

			const newPage = async page => {
				let produtoServ = new ProdutoServ();
				let resposta = await produtoServ.takeProdutos(page);

				if (resposta.data.results != null && resposta.data.results.length > 0) {
					data = resposta.data.results;
					criaPaginacao(
						resposta.data.paginacao.totalOffPages,
						resposta.data.paginacao.previous,
						resposta.data.paginacao.next,
						resposta.data.paginacao.pagina
					);
					recriateTable();
				}
			};

			/***********************************************  FIM montatela paginacao ***********************************************/
		</script>
	</body>
</html>
